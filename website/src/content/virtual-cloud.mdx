---
title: InfraSpec Virtual Cloud - High-Fidelity AWS Emulator
sidebar: false
toc: false
---

import Image from "next/image";
import { Callout, Steps, Tabs } from "nextra/components";

<div className="flex justify-center">
  <Image src="/infraspec_logo_512.png" alt="InfraSpec Logo" width={128} height={128} />
</div>

<h1 className="text-center font-extrabold md:text-5xl mt-2">InfraSpec Virtual Cloud</h1>

<div className="mx-auto max-w-full w-[880px] text-center px-4 mt-4 mb-10">
  <p className="text-lg mb-2 text-gray-600 md:!text-2xl">
    Test infrastructure 100x faster. Pay 90% less. Zero cleanup.
  </p>
</div>

<div className="text-center mb-8">
  <a
    href="#getting-started"
    className="inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors"
  >
    Get Started ‚Üí
  </a>
</div>

---

## The Problem with Testing in AWS

Testing infrastructure against real AWS is **expensive, slow, and risky**:

- üí∏ **High costs** - $0.10+ per test run adds up to thousands monthly
- ‚è±Ô∏è **Slow execution** - Network latency means 2-10 seconds per API call
- üîÑ **CI/CD bills** - Every pipeline run racks up charges
- üóëÔ∏è **Cleanup headaches** - Failed tests leave orphaned resources costing money
- üêå **Poor feedback loops** - Slow tests kill developer productivity
- üîê **Security concerns** - Exposing AWS credentials in CI/CD environments

> [!NOTE]
>
> **Real Cost Example**: A team of 10 developers running 50 tests/day spends **$1,000+/month** on AWS testing costs
> alone, plus **83+ hours** of wasted time waiting for slow tests.

## The Solution: InfraSpec Virtual Cloud

**InfraSpec Virtual Cloud** is a high-fidelity AWS emulator designed specifically for infrastructure testing. It
provides accurate AWS behavior without the complexity, cost, or latency of real AWS.

### Key Benefits

<div className="grid md:grid-cols-2 gap-6 my-8">
  <div className="border rounded-lg p-6">
    <h3 className="text-xl font-bold mb-2">‚ö° 100x Faster</h3>
    <p>Tests run in milliseconds instead of seconds. No network latency, no API rate limits.</p>
  </div>

{" "}

<div className="border rounded-lg p-6">
  <h3 className="text-xl font-bold mb-2">üí∞ 90% Cheaper</h3>
  <p>Flat monthly rate with unlimited tests. No per-request charges, no surprise bills.</p>
</div>

{" "}

<div className="border rounded-lg p-6">
  <h3 className="text-xl font-bold mb-2">üîí Zero Credentials</h3>
  <p>No AWS credentials needed. Test safely without exposing secrets in CI/CD.</p>
</div>

{" "}

<div className="border rounded-lg p-6">
  <h3 className="text-xl font-bold mb-2">üßπ No Cleanup</h3>
  <p>Failed tests don't leave dangling resources. Everything is ephemeral and automatic.</p>
</div>

{" "}

<div className="border rounded-lg p-6">
  <h3 className="text-xl font-bold mb-2">üéØ High Fidelity</h3>
  <p>Accurate AWS behavior without complexity. Purpose-built for infrastructure testing.</p>
</div>

  <div className="border rounded-lg p-6">
    <h3 className="text-xl font-bold mb-2">üöÄ Unlimited Scale</h3>
    <p>Run unlimited parallel tests. No rate limits, no throttling, no quotas.</p>
  </div>
</div>

## How It Works

InfraSpec Virtual Cloud runs as a managed service that emulates AWS APIs with high fidelity. Simply point your tests to
Virtual Cloud instead of real AWS:

<Steps>
### Install InfraSpec CLI

```bash
brew install infraspec
# or
go install github.com/robmorgan/infraspec@latest
```

### Get Your API Token

Sign up at [cloud.infraspec.sh](https://cloud.infraspec.sh/) and get your InfraSpec Cloud Token.

### Run Tests with Virtual Cloud

```bash
infraspec --virtual-cloud features/
```

Virtual Cloud automatically handles all AWS API calls without touching real AWS.

</Steps>

## Always Current with AWS

AWS releases hundreds of API changes every year. Virtual Cloud stays current automatically through **CloudMirror**, our
proprietary AWS API parity system.

<div className="grid md:grid-cols-3 gap-6 my-8">
  <div className="border rounded-lg p-6">
    <h3 className="text-xl font-bold mb-2">üîÑ Weekly Analysis</h3>
    <p>CloudMirror scans the latest AWS SDK every week, identifying new operations and API changes automatically.</p>
  </div>

{" "}

<div className="border rounded-lg p-6">
  <h3 className="text-xl font-bold mb-2">üéØ Smart Prioritization</h3>
  <p>
    Not all APIs are equal. We prioritize high-impact operations (Create, Delete, Describe) that matter most for
    testing.
  </p>
</div>

  <div className="border rounded-lg p-6">
    <h3 className="text-xl font-bold mb-2">üìä Full Transparency</h3>
    <p>Check our <a href="/docs/compatibility" className="text-purple-600 hover:underline">AWS Compatibility page</a> for real-time coverage data on every supported service.</p>
  </div>
</div>

This means you always get accurate, up-to-date AWS behavior without waiting for manual updates. Learn more about
[how CloudMirror works](/docs/cloudmirror).

## How Virtual Cloud Compares to LocalStack

Already familiar with LocalStack? Here's how InfraSpec Virtual Cloud is different:

<div className="overflow-x-auto my-8">
  <table className="w-full border-collapse">
    <thead>
      <tr className="bg-gray-100 dark:bg-gray-800">
        <th className="border p-3 text-left">Feature</th>
        <th className="border p-3 text-center">Virtual Cloud</th>
        <th className="border p-3 text-center">LocalStack</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td className="border p-3 font-medium">Primary Focus</td>
        <td className="border p-3 text-center">Infrastructure Code Testing</td>
        <td className="border p-3 text-center">General AWS Emulation</td>
      </tr>
      <tr className="bg-gray-50 dark:bg-gray-900">
        <td className="border p-3 font-medium">Testing Framework</td>
        <td className="border p-3 text-center">‚úÖ Built-in (BDD/Gherkin)</td>
        <td className="border p-3 text-center">‚ùå Bring your own</td>
      </tr>
      <tr>
        <td className="border p-3 font-medium">Setup</td>
        <td className="border p-3 text-center">‚úÖ Single CLI command</td>
        <td className="border p-3 text-center">‚ö†Ô∏è Docker + configuration</td>
      </tr>
      <tr className="bg-gray-50 dark:bg-gray-900">
        <td className="border p-3 font-medium">AWS Parity Tracking</td>
        <td className="border p-3 text-center">‚úÖ Weekly (CloudMirror)</td>
        <td className="border p-3 text-center">‚úÖ Weekly</td>
      </tr>
      <tr>
        <td className="border p-3 font-medium">Infrastructure Assertions</td>
        <td className="border p-3 text-center">‚úÖ 20+ built-in</td>
        <td className="border p-3 text-center">‚ùå Write your own</td>
      </tr>
    </tbody>
  </table>
</div>

<div className="text-center">
  <a href="/vs-localstack" className="text-purple-600 hover:underline font-medium">
    See the full InfraSpec vs LocalStack comparison ‚Üí
  </a>
</div>

## Usage Examples

### Basic Usage

Add the `--virtual-cloud` flag to any InfraSpec command:

```bash
# Run tests with Virtual Cloud
infraspec --virtual-cloud features/

# Run specific feature
infraspec --virtual-cloud features/s3/bucket_encryption.feature
```

### CI/CD Integration

<Tabs items={['GitHub Actions', 'GitLab CI', 'CircleCI']}>
  <Tabs.Tab>
    ```yaml filename=".github/workflows/test.yml"
    name: Infrastructure Tests
    on: [push, pull_request]

    jobs:
      test:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4

          - name: Install InfraSpec
            run: |
              curl -fsSL https://infraspec.sh/install.sh | bash

          - name: Run Tests
            run: infraspec --virtual-cloud features/
            env:
              INFRASPEC_CLOUD_TOKEN: ${{ secrets.INFRASPEC_CLOUD_TOKEN }}
    ```

  </Tabs.Tab>

{/* prettier-ignore */}
  <Tabs.Tab>
    ```yaml filename=".gitlab-ci.yml"
    test:
      image: golang:1.21
      script:
        - curl -fsSL https://infraspec.sh/install.sh | bash
        - infraspec --virtual-cloud features/
      variables:
        INFRASPEC_CLOUD_TOKEN: $INFRASPEC_CLOUD_TOKEN
    ```
  </Tabs.Tab>

{/* prettier-ignore */}
  <Tabs.Tab>
    ```yaml filename=".circleci/config.yml"
    version: 2.1
    jobs:
      test:
        docker:
          - image: cimg/go:1.21
        steps:
          - checkout
          - run:
              name: Install InfraSpec
              command: curl -fsSL https://infraspec.sh/install.sh | bash
          - run:
              name: Run Tests
              command: infraspec --virtual-cloud features/
              environment:
                INFRASPEC_CLOUD_TOKEN: $INFRASPEC_CLOUD_TOKEN
    ```
  </Tabs.Tab>
</Tabs>

## Getting Started

<Steps>
### Sign Up

Create your InfraSpec account at [cloud.infraspec.sh](https://cloud.infraspec.sh/) and get your API token.

### Configure Your Environment

Add your token to your environment or CI/CD secrets:

```bash
# Configure an environment variable
export INFRASPEC_CLOUD_TOKEN="your-token-here"

# Or persist it in your config file
infraspec config set infraspec-cloud-token YOUR_TOKEN_HERE
```

### Run Your First Test using Virtual Cloud

```bash
infraspec --virtual-cloud features/
```

### Feel the Speed, See the Magic!

Your tests now run 100x faster with zero AWS costs. No cleanup needed!

</Steps>

## Frequently Asked Questions

### How accurate is Virtual Cloud compared to real AWS?

Virtual Cloud provides high-fidelity emulation of AWS APIs, matching real AWS behavior for infrastructure testing
scenarios. Our [CloudMirror](/docs/cloudmirror) system automatically tracks AWS SDK changes weekly, ensuring we stay
current with new operations and API updates. Check our [AWS Compatibility page](/docs/compatibility) for detailed
coverage information.

### Can I test against both Virtual Cloud and real AWS?

Yes! Simply omit the `--virtual-cloud` flag to test against real AWS. Many teams use Virtual Cloud for development and
CI/CD, then validate against real AWS before production deployment.

### Can I self-host Virtual Cloud?

Enterprise customers can deploy Virtual Cloud in their own infrastructure for enhanced security and compliance.
[Contact sales](/contact) to discuss self-hosted options.

### How do I migrate from LocalStack or Moto?

InfraSpec Virtual Cloud is API-compatible with standard AWS SDKs and Terraform providers. Simply point your tests to
Virtual Cloud with no code changes required. [Contact sales](/contact) for migration assistance.

## Ready to Get Started?

Virtual Cloud is available as part of an InfraSpec subscription.

<div className="text-center my-12">
  <a
    href="/pricing"
    className="inline-block border-2 border-purple-600 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-950 font-bold py-4 px-10 rounded-lg text-xl transition-colors mr-4"
  >
    View Pricing
  </a>
  <a
    href="https://cloud.infraspec.sh/"
    className="inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-10 rounded-lg text-xl transition-colors"
  >
    Get Started ‚Üí
  </a>
</div>

<div className="text-center text-gray-600 my-8">Questions? [Contact us](/contact) or [view documentation](/docs)</div>
